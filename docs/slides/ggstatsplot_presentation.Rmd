---
title: "`ggstatsplot`: `ggplot2` Based Plots with Statistical Details"
subtitle: "An Introductory Tutorial (Version: 0.7.0)"
author: "Indrajeet Patil (Center for Humans and Machines, Max Planck Institute, Berlin)"
date: "`r Sys.Date()` <br> <br> <br>"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: ["default", "metropolis", "metropolis-fonts", "ggstatsplot_presentation.css"]
    df_print: kable
    nature:
      ratio: 16:9
      highlightStyle: "foundation"
      highlightLines: true
      countIncrementalSlides: true
      slideNumberFormat: "%current%"
editor_options: 
  chunk_output_type: console
---

<style type="text/css">
body, td {
  font-size: 16px;
}
code.r{
  font-size: 14px;
}
</style>

```{r setup, include = FALSE}
future::plan("multicore")
knitr::opts_chunk$set(
  fig.width = 7,
  fig.height = 5,
  fig.retina = 2,
  fig.align = "center",
  out.width = "100%",
  dpi = 300,
  message = FALSE,
  warning = FALSE,
  cache = TRUE,
  autodep = TRUE,
  hiline = TRUE
)

knitr::opts_hooks$set(fig.callout = function(options) {
  if (options$fig.callout) {
    options$echo <- FALSE
    options$out.height <- "99%"
    options$fig.width <- 16
    options$fig.height <- 8
  }
  options
})

options(
  htmltools.dir.version = FALSE,
  width = 90,
  max.print = 9999,
  knitr.table.format = "html",
  crayon.enabled = TRUE
)
```

---

layout: true

# Plan

---

- Why `ggstatsplot`?

- Primary functions

- Benefits and customizability

- Misconceptions and limitations

---

layout: false

class: inverse, center, middle

# Why *ggstatsplot*?

---

layout: true

# Raison d'être

---

--

.right-column[

.font130[
Current count of packages on the Comprehensive R Archive Network (**CRAN**)
**<font color="red"> > 16,000</font>**
]

.footnote[<https://cran.r-project.org/web/packages/>]

]

--

.left-column[
![](images/y_tho.jpg)
]

--

.right-column[.font130[
Short answer: `ggstatsplot` provides a collection of <font color="blue">*information-rich*</font> plots with <font color="blue">*statistical details*</font> and is suitable for scholarly publications and quick (exploratory) data analysis.
]
]

---

layout: true

# Simpler data analysis workflow

---

--

.img-center[
![](images/ds_workflow.png)
]

.footnote[[(Grolemund & Wickham, *R for Data Science*, 2017)](https://r4ds.had.co.nz/)]

--

 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
In a typical *exploratory* data analysis workflow, <font color="blue">data visualization</font> and <font color="blue">statistical modeling</font> are two different phases: visualization informs modeling,
and modeling can suggest a different visualization, and so on and so forth. 

--

The central idea of **ggstatsplot** is simple: combine these two phases into one!

---

layout: true

class: center

# Information-rich graphic is worth a thousand words

---

--

.img-center[
![](images/datasaurus.gif)
]


.footnote[[(Matejka & Fitzmaurice, *Autodesk Research*, 2017)](https://www.autodeskresearch.com/publications/samestats)]

 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
 <br>
.font120[“I plotted my data and what I found surprised me!" - BuzzFeed]

---

layout: false

# Ready-made plot = no customization

--

The **grammar of graphics** (implemented in `ggplot2`) is a powerful
framework [(Wilkinson, 2011)](https://www.google.com/books/edition/_/iI1kcgAACAAJ?hl=en&sa=X&ved=2ahUKEwiGl8rJ2KztAhWyElkFHa8NAvkQre8FMBR6BAgMEAc) to prepare graphics and can help you make
infinite number of graphics, each tailored for your specific data visualization
problem! But...

--

.pull-left[
![](images/power.jpg)
]

.pull-right[
![](images/cat_trademill.gif)
]

---

layout: false

# Consistent API = No cognitive fatigue

--

```{r lm, eval = FALSE}
stats::lm(formula = wt ~ mpg, data = mtcars)
```

--

```{r cor, eval = FALSE}
stats::cor(x = mtcars$wt, y = mtcars$mpg)
```

--

```{r cor.test, eval = FALSE}
stats::cor.test(formula = ~ wt + mpg, data = mtcars)
```

--

.img-right-small[
![](images/sideeye.gif)
]

--

 <br>
 <br>
**All** functions in `ggstatsplot`-

`r emo::ji("check")` rely on a **dataframe** (`function(data, x, ...)`) <br>
`r emo::ji("check")` expect **tidy** data <br>

---

layout: false

class: inverse, center, middle

# Get Started

---

layout: false

# Installation

--

Install the stable version (latest: `0.6.8`) of **ggstatsplot** from 
[CRAN](https://cran.r-project.org/web/packages/ggstatsplot/index.html):

```{r utils, eval = FALSE, tidy = FALSE}
install.packages("ggstatsplot")
```
--

You can get the development version of the package from
[Github](https://github.com/IndrajeetPatil/ggstatsplot):

```{r github, eval = FALSE, tidy = FALSE}
remotes::install_github("IndrajeetPatil/ggstatsplot")
```

--

Load the needed packages-

```{r load, eval = TRUE, warning=FALSE}
library(ggstatsplot)
library(ggplot2)
```

---

layout: false

class: inverse, center, middle

# Primary functions

---

layout: false

class: inverse, center, middle

# Hypothesis about group differences

`r emo::ji("science")` *ggbetweenstats*, *ggwithinstats*: multiple groups

`r emo::ji("science")` *gghistostats*, *ggdotplotstats*: single group

---

layout: true

# ggbetweenstats - For between group comparisons

---

.left-code[
```{r ggbetweenstats_1, eval = FALSE}
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating
)
```

.font70[
Function internally decides tests

- *t*-test if **2** groups
- ANOVA if **> 2** groups

`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` raw data + distributions <br>
`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` pairwise comparisons <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>
]

]

.right-plot[
```{r ggbetweenstats_1, ref.label = 'ggbetweenstats_1', echo = FALSE}
```
]

---

layout: true

# ggbetweenstats - pairwise comparisons

---

.left-code[
```{r ggbetweenstats_2, eval = FALSE}
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
  type = "np", #<<
  pairwise.display = "ns" #<<
)
```

.font70[
Changing the `type` of test

`r emo::ji("check")` `"p"` → **parametric** (default) <br>
`r emo::ji("check")` `"np"` → **non-parametric** <br>
`r emo::ji("check")` `"r"` → **robust**  <br>
`r emo::ji("check")` `"bf"` → **Bayes Factor**

Changing pairwise comparisons displayed

- `"ns"` → only **non-significant**
- `"s"` → only **significant**
- `"all"` → **all**
]
]

.right-plot[
```{r ggbetweenstats_2, ref.label = 'ggbetweenstats_2', echo = FALSE}
```
]

---

layout: true

# ggbetweenstats - outlier tagging

---

.left-code[
```{r ggbetweenstats_3, eval = FALSE}
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
  type = "r",
  outlier.tagging = TRUE, #<<
  outlier.label = title #<<
)
```

.font70[
[Tukey's fences](https://en.wikipedia.org/wiki/Outlier#Tukey's_fences) method using 
interquartile range flags outliers.

Centrality measures

`r emo::ji("check")` `"p"` → $\mu_{mean}$  <br>
`r emo::ji("check")` `"np"` → $\mu_{median}$  <br>
`r emo::ji("check")` `"r"` → $\mu_{trimmed}$  <br>
`r emo::ji("check")` `"bf"` → $\mu_{MAP}$
]

]

.right-plot[
```{r ggbetweenstats_3, ref.label = 'ggbetweenstats_3', echo = FALSE}
```
]

---

layout: true

# ggwithinstats - repeated measures equivalent

---

.left-code[
```{r ggwithinstats_1, eval = FALSE}
ggwithinstats(
  data = WRS2::WineTasting,
  x = Wine,
  y = Taste
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` raw data + distributions <br>
`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` pairwise comparisons <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Changing the `type` of test

`r emo::ji("check")` `"p"` → **parametric** (default) <br>
`r emo::ji("check")` `"np"` → **non-parametric** <br>
`r emo::ji("check")` `"r"` → **robust**  <br>
`r emo::ji("check")` `"bf"` → **Bayes Factor**
]
]

.right-plot[
```{r ggwithinstats_1, ref.label = 'ggwithinstats_1', echo = FALSE}
```
]

---

layout: true

# gghistostats - Distribution of a numeric variable

---

.left-code[
```{r gghistostats_1, eval = FALSE}
gghistostats(
  data = movies_long,
  x = budget,
  test.value = 30 #<<
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` counts + proportion for bins <br>
`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Centrality measures

`r emo::ji("check")` `"p"` → $\mu_{mean}$  <br>
`r emo::ji("check")` `"np"` → $\mu_{median}$  <br>
`r emo::ji("check")` `"r"` → $\mu_{trimmed}$  <br>
`r emo::ji("check")` `"bf"` → $\mu_{MAP}$
]
]

.right-plot[
```{r gghistostats_1, ref.label = 'gghistostats_1', echo = FALSE}
```
]

---

layout: true

# ggdotplotstats - Labeled numeric variable

---

.left-code[
```{r ggdotplotstats_1, eval = FALSE}
ggdotplotstats(
  data = movies_long,
  x = budget,
  y = genre,
  test.value = 30 #<<
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Centrality measures

`r emo::ji("check")` `"p"` → $\mu_{mean}$  <br>
`r emo::ji("check")` `"np"` → $\mu_{median}$  <br>
`r emo::ji("check")` `"r"` → $\mu_{trimmed}$  <br>
`r emo::ji("check")` `"bf"` → $\mu_{MAP}$
]
]

.right-plot[
```{r ggdotplotstats_1, ref.label = 'ggdotplotstats_1', echo = FALSE}
```
]

---

layout: false

class: inverse, center, middle

# Hypothesis about correlation
 <br>
`r emo::ji("science")` *ggscatterstats*: Two numeric variables
 <br>
`r emo::ji("science")` *ggcorrmat*: Multiple numeric variables

---

layout: true

# ggscatterstats - Two numeric variables

---

.left-code[
```{r ggscatterstats_1, eval = FALSE}
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` raw data + distributions <br>
`r emo::ji("check")` marginal distributions <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Changing the `type` of test

`r emo::ji("check")` `"p"` → **parametric** (default) <br>
`r emo::ji("check")` `"np"` → **non-parametric** <br>
`r emo::ji("check")` `"r"` → **robust**  <br>
`r emo::ji("check")` `"bf"` → **Bayes Factor**
]
]

.right-plot[
```{r ggscatterstats_1, ref.label = 'ggscatterstats_1', echo = FALSE}
```
]

---

layout: true

# ggscatterstats - conditional point tagging

---

.left-code[
```{r ggscatterstats_2, eval = FALSE}
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating,
  type = "r",
  label.var = title, #<<
  label.expression = budget > 150 #<<
  & rating > 7.5, #<<
  marginal.type = "boxplot" #<<
)
```

.font70[
Changing the marginal type

- **histogram**
- **boxplot**
- **density**
- **violin**
- **densigram**
]
]

.right-plot[
```{r ggscatterstats_2, ref.label = 'ggscatterstats_2', echo = FALSE}
```
]

---

layout: true

# ggcorrmat - Multiple numeric variables

---

.left-code[
```{r ggcorrmat_1, eval = FALSE}
ggcorrmat(dplyr::starwars)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` effect size + significance <br>
`r emo::ji("check")` careful handling of `NA`s

Changing the `type` of test

`r emo::ji("check")` `"p"` → **parametric** (default) <br>
`r emo::ji("check")` `"np"` → **non-parametric** <br>
`r emo::ji("check")` `"r"` → **robust**  <br>
`r emo::ji("check")` `"bf"` → **Bayes Factor**

]
]

.right-plot[
```{r ggcorrmat_1, ref.label = 'ggcorrmat_1', echo = FALSE}
```
]

---

layout: true

# ggcorrmat - getting a dataframe

---

In addition to `output = "plot"`, this function can also be used to get a <font color="blue">dataframe</font>:

.font50[
```{r ggcorrmat_2}
library(ggplot2) # for data

ggcorrmat(
  data = dplyr::select(msleep, sleep_rem, awake, brainwt),
  type = "bf",
  output = "dataframe" #<<
)
```
]

Partial correlations are also supported! 
Just set `partial = TRUE`.

---

layout: false

class: inverse, center, middle

# Hypothesis of composition of categorical variables
 <br>
`r emo::ji("science")` *ggpiestats*: If you like `r emo::ji("slice")`
 <br>
`r emo::ji("science")` *ggbarstats*: Otherwise

---

layout: true

# ggpiestats - goodness-of-fit test

---

.left-code[
```{r ggpiestats_1, eval = FALSE}
ggpiestats(
  data = as.data.frame(Titanic),
  x = Class,
  counts = Freq, #<<
  label = "both" #<<
)
```

.font70[
**Note**: If the data is in *tabled* 
format, you can use the `counts` 
argument.

Test by analysis

- `y != NULL` → contingency table
- `y == NULL` → goodness-of-fit

]
]

.right-plot[
```{r ggpiestats_1, ref.label = 'ggpiestats_1', echo = FALSE}
```
]

---

layout: true

# ggpiestats - association between categorical variables

---

.left-code[
```{r ggpiestats_2, eval = FALSE}
# let's use subset of data
ggpiestats(
  data = dplyr::filter(
    .data = movies_long,
    genre %in% c("Drama", "Comedy")
  ),
  x = mpaa,
  y = genre
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` Goodness-of-fit tests <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Test by design

- `paired = FALSE` → Pearson's $\chi^2$
- `paired = TRUE` → McNemar's $\chi^2$

]
]

.right-plot[
```{r ggpiestats_2, ref.label = 'ggpiestats_2', echo = FALSE}
```
]

---

layout: true

# ggbarstats - association between categorical variables

---

.left-code[
```{r ggbarstats_1, eval = FALSE}
ggbarstats(
  data = dplyr::filter(
    .data = movies_long,
    genre %in% c("Drama", "Comedy")
  ),
  x = mpaa,
  y = genre
)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` descriptive statistics <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` effect size + CIs <br>
`r emo::ji("check")` Goodness-of-fit tests <br>
`r emo::ji("check")` Bayesian hypothesis-testing <br>
`r emo::ji("check")` Bayesian estimation <br>

Test by design

- `paired = FALSE` → Pearson's $\chi^2$
- `paired = TRUE` → McNemar's $\chi^2$
]
]

.right-plot[
```{r ggbarstats_1, ref.label = 'ggbarstats_1', echo = FALSE}
```
]

---

layout: false

class: inverse, center, middle

# Hypothesis about regression coefficients

`r emo::ji("science")` *ggcoefstats*: Any regression model object

---

layout: true

# ggcoefstats

---

.left-code[
```{r ggcoefstats_1, eval = FALSE}
# model
mod <- stats::lm(
  formula = rating ~ mpaa,
  data = movies_long
)

# plot
ggcoefstats(mod)
```

.font70[
`r emo::ji("pencil")` **Defaults** return <br>

`r emo::ji("check")` estimate + CIs <br>
`r emo::ji("check")` statistic + *p*-value <br>
`r emo::ji("check")` model summary (AIC + BIC)
]

]

.right-plot[
```{r ggcoefstats_1, ref.label = 'ggcoefstats_1', echo = FALSE}
```
]

---

layout: true

# ggcoefstats: Supported models

---

.font70[
`aareg`, `afex_aov`, `anova`, `anova.mlm`, `anova`, `aov`, `aovlist`, `Arima`,
`bam`, `bayesx`, `bayesGARCH`, `BBmm`, `BBreg`, `bcplm`, `betamfx`, `betaor`,
`BFBayesFactor`, `bglmerMod`, `bife`, `bigglm`, `biglm`, `blavaan`, `bmlm`,
`blmerMod`, `bracl`, `brglm`, `brglm2`, `brmsfit`, `brmultinom`, `btergm`,
`cch`, `censReg`, `cgam`, `cgamm`, `cglm`, `clm`, `clm2`, `clmm`, `clmm2`,
`coeftest`, `complmrob`, `confusionMatrix`, `coxme`, `coxph`, `coxph.penal`,
`cpglm`, `cpglmm`, `crch`, `crq`, `crr`, `DirichReg`, `drc`, `emmGrid`,
`epi.2by2`, `ergm`, `feis`, `felm`, `fitdistr`, `fixest`, `flexsurvreg`, `gam`,
`Gam`, `gamlss`, `garch`, `geeglm`, `glmc`, `glmerMod`, `glmmTMB`, `gls`,
`glht`, `glm`, `glmm`, `glmmadmb`, `glmmPQL`, `glmRob`, `glmrob`, `glmx`, `gmm`,
`HLfit`, `hurdle`, `ivFixed`, `ivprobit`, `ivreg`, `iv_robust`, `lavaan`, `lm`,
`lm.beta`, `lmerMod`, `lmerModLmerTest`, `lmodel2`, `lmRob`, `lmrob`,
`lm_robust`, `logitmfx`, `logitor`, `logitsf`, `LORgee`, `lqm`, `lqmm`, `lrm`,
`manova`, `maov`, `margins`, `mcmc`, `mcmc.list`, `MCMCglmm`, `mclogit`, `mice`,
`mmclogit`, `mediate`, `metafor`, `merMod`, `merModList`, `metaplus`, `mixor`,
`mjoint`, `mle2`, `mlm`, `multinom`, `negbin`, `negbinmfx`, `negbinirr`,
`nlmerMod`, `nlrq`, `nlreg`, `nls`, `orcutt`, `orm`, `plm`, `poissonmfx`,
`poissonirr`, `polr`, `ridgelm`, `riskRegression`, `rjags`, `rlm`, `rlmerMod`,
`robmixglm`, `rq`, `rqs`, `rqss`, `rrvglm`, `scam`, `semLm`, `semLme`, `slm`,
`speedglm`, `speedlm`, `stanfit`, `stanreg`, `summary.lm`, `survreg`, `svyglm`,
`svyolr`, `svyglm`, `tobit`, `truncreg`, `varest`, `vgam`, `vglm`, `wbgee`,
`wblm`, `zeroinfl`, etc.
]

--

Thanks to [`easystats`](https://easystats.github.io/easystats/)!


![](images/easystats.jpg)

---

layout: false

class: inverse, center, middle

# *grouped_* variants of all functions
Running the same function for 
all levels of a single grouping variable

---

layout: true

# *grouped_* functions

---

--

.left-code[
```{r grouped_1, eval = FALSE}
grouped_ggpiestats(
  data = mtcars,
  x = cyl,
  grouping.var = am #<<
)
```

.font70[
Available `grouped_` variants
- `grouped_ggbetweenstats`
- `grouped_ggwithinstats`
- `grouped_gghistostats`
- `grouped_ggdotplotstats`
- `grouped_ggscatterstats`
- `grouped_ggcorrmat`
- `grouped_ggpiestats`
- `grouped_ggbarstats`
]
]

.right-plot[
```{r grouped_1, ref.label = 'grouped_1', echo = FALSE}
```
]

---

layout: false

class: inverse, center, middle

# Customizability of *ggstatsplot*
"What if I don't like the default plots?" `r emo::ji("thinking")`

---

exclude: false

layout: true

# Defaults

---

exclude: false

.pull-left[
.font100[
The default plots in *<font color="blue">ggstatsplot</font>* are
**opinionated**, yes, but an attempt has been made to make sure that they
follow best practices outlined in the data visualization research.
]
]

.pull-right[
![](images/books.JPG)
]

---

layout: true

# Changing aesthetics (themes + palettes)

---

.left-code[
```{r ggbetweenstats_4, eval = FALSE}
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
  results.subtitle = FALSE,
  ggtheme = hrbrthemes::theme_ipsum_tw(), #<<
  palette = "Darjeeling2", #<<
  package = "wesanderson" #<<
)
```

.font70[
Aesthetic preferences
are not an excuse to not
use `ggstatsplot`! `r emo::ji("heart_eyes_cat")`

The default palette 
is **colorblind-friendly**.
]
]

.right-plot[
```{r ggbetweenstats_4, ref.label = 'ggbetweenstats_4', echo = FALSE}
```
]

---

layout: true

# Further modification with *ggplot2*

---

.left-code[
```{r ggbetweenstats_5, eval = FALSE}
ggbetweenstats(
  data = mtcars,
  x = am,
  y = wt,
  type = "bf"
) +
  scale_y_continuous(sec.axis = dup_axis()) #<<
```

.font70[
You can modify 
 `ggstatsplot` plots further 
using `ggplot2` functions.
Yaay!
]

.img-left-small[
![](images/happy_cat.gif)
]

]

.right-plot[
```{r ggbetweenstats_5, ref.label = 'ggbetweenstats_5', echo = FALSE}
```
]

---

layout: true

# Extract expressions for custom plots

---

`ggstatsplot` can also be used to get only the statistical expressions.

--

.left-code[
```{r subtitle_1, eval = FALSE}
# using `ggstatsplot` for stats
results <-
  ggstatsplot::ggpiestats(
    data = Titanic_full,
    x = Survived,
    y = Sex,
    output = "subtitle" #<<
  )

# using `ggiraphExtra` for plot
ggiraphExtra::ggSpine( #<<
  data = Titanic_full,
  aes(x = Sex, fill = Survived),
  addlabel = TRUE,
  interactive = FALSE
) + labs(subtitle = results) #<<
```
]

.right-plot[
```{r subtitle_1, ref.label = 'subtitle_1', echo = FALSE}
```
]

---

layout: false

class: inverse, center, middle

# Why use *ggstatsplot*? 
Summary of benefits

---

layout: false

# Supports different statistical approaches 

 <br>

--

Functions | Description | Parametric | Non-parametric | Robust | Bayes Factor
------- | ------------------ | ---- | ----- | ----| ----- 
`ggbetweenstats` | Between group comparisons | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`ggwithinstats` | Within group comparisons | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`gghistostats`, `ggdotplotstats` | Distribution of a numeric variable | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`ggcorrmat` | Correlation matrix | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`ggscatterstats` | Correlation between two variables | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`ggpiestats`, `ggbarstats` | Association between categorical variables | **<font color="green">Yes</font>** | `NA` | `NA` | **<font color="green">Yes</font>**
`ggpiestats`, `ggbarstats` | Equal proportions for categorical variable levels | **<font color="green">Yes</font>** | `NA` | `NA` | **<font color="green">Yes</font>**
`ggcoefstats` | Regression model coefficients | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**
`ggcoefstats` | Random-effects meta-analysis | **<font color="green">Yes</font>** | `NA` | **<font color="green">Yes</font>** | **<font color="green">Yes</font>**

---

layout: false

# Toggling between statistical approaches

--

.pull-left[
**<font color="blue">Parametric<font>**
```{r type_p, eval = FALSE}
# anova
ggbetweenstats(
  data = mtcars,
  x = cyl,
  y = wt,
  type = "p" #<<
)

# correlation analysis
ggscatterstats(
  data = mtcars,
  x = wt,
  y = mpg,
  type = "p" #<<
)

# t-test
gghistostats(
  data = mtcars,
  x = wt,
  test.value = 2,
  type = "p" #<<
)
```
]

--

.pull-right[
**<font color="#ff6600">Non-parametric<font>** 
```{r type_np, eval = FALSE}
# anova
ggbetweenstats(
  data = mtcars,
  x = cyl,
  y = wt,
  type = "np" #<<
)

# correlation analysis
ggscatterstats(
  data = mtcars,
  x = wt,
  y = mpg,
  type = "np" #<<
)

# t-test
gghistostats(
  data = mtcars,
  x = wt,
  test.value = 2,
  type = "np" #<<
)
```
]

---

layout: false

# Best practices in statistical reporting

--

For all statistical tests reported in the plots, the expression template mostly abides
by the [APA](https://my.ilstu.edu/~jhkahn/apastats.html) gold standard for
statistical reporting. 

For example, here are results from a robust *t*-test:

![](images/stats_reporting_format.jpg)

---

layout: false

# Statistically informed tests defaults

--

The default tests follow the best practices. For example,

`r emo::ji("check")` `ggbetweenstats` and `ggwithinstats` default to <font color="blue">Welch's *t*-test</font> and <font
color="blue">Welch's ANOVA</font> - and not Student's *t*-test and Fisher's
ANOVA - based on recent work (Delacre et al.,
[2017](https://www.rips-irsp.com/article/10.5334/irsp.82/),
[2018](https://psyarxiv.com/wnezg)).

`r emo::ji("check")` Functions default to reporting unbiased effect size measures (Lakens, [2013](https://www.frontiersin.org/articles/10.3389/fpsyg.2013.00863/full)).

`r emo::ji("check")` Whenever multiple tests are carried out, *p*-values are adjusted for them by default.

etc.

---

layout: false

# Avoiding reporting errors

--

Since the plot and the statistical analysis are yoked together, the chances of
making an error in reporting the results are minimized.

![](images\statcheck.png)

.footnote[[(Nuijten et al., *Behavior Research Methods*, 2016)](https://link.springer.com/article/10.3758/s13428-015-0664-2)]

---

layout: false

# Making sense of null results

--

Combination of frequentist and Bayesian statistics for each analysis to properly
interpret the null results.

![](images/null_results.png)

.footnote[[(Aczel et al., *AMPPS*, 2018)](https://journals.sagepub.com/doi/pdf/10.1177/2515245918773742)]

---

layout: true

# Summary of benefits

---

--

- No need to use scores of packages for statistical analysis
  (e.g., one to get stats, one to get effect sizes, another to get Bayes
  Factors, and yet another to get pairwise comparisons, etc.).

--

- Minimal amount of code needed for all functions (typically only `data`, `x`,
  and `y`), which minimizes chances of error and makes for tidy scripts.
  
--

- Conveniently toggle between statistical approaches.

--

- Truly makes your figures worth a thousand words.

--

- No need to copy-paste results to the text editor (MS-Word, e.g.).

--

- Disembodied figures stand on their own and are easy to evaluate for the reader.

--

- More breathing room for theoretical discussion and other text.

--

- No need to worry about updating figures and statistical details separately.

---

layout: false

class: inverse, center, middle

# Misconceptions and limitations

---

layout: true

# Misconceptions about *ggstatsplot*

---

--

This package is... 

--

`r emo::ji("x")` an alternative to learning `ggplot2` <br>
--
`r emo::ji("check")` (The better you know `ggplot2`, the more you can modify the defaults to your
liking.)

--

`r emo::ji("x")` meant to be used in talks/presentations <br>
--
`r emo::ji("check")` (Default plots can be too complicated for effectively communicating results in
time-constrained presentation settings, e.g. conference talks.)

--

`r emo::ji("x")` the only game in town <br>
--
`r emo::ji("check")` (GUI software alternatives: [JASP](https://jasp-stats.org/) and [jamovi](https://www.jamovi.org/)).

---

layout: true

# Limitations of *ggstatsplot*

---

--

- Limited kinds of <font color="blue">plots</font> available.

--

- Limited number of statistical <font color="blue">tests</font> available. <br>
  This will *always* be the case.

--

- Although beginner-friendly to use, it expects a non-trivial level of
  statistical proficiency (but only plots without statistics can also be used).

--

- <font color="blue">Faceting</font> (or small multiples) not implemented.

---

layout: true

# Overcoming these limitations

---

--

.pull-left[

.font90[
Contributions (big or small) welcome!
]

![](images/needs_you.jpg)

]

--

.pull-right[
.font90[
Ways in which you can [contribute](https://github.com/IndrajeetPatil/ggstatsplot)

- Read and correct any inconsistencies in the
[documentation](https://indrajeetpatil.github.io/ggstatsplot/) `r emo::ji("book")`

- Raise issues about bugs/features `r emo::ji("bug")`

- Review code `r emo::ji("detective")`

- Add new functionality `r emo::ji("developer")`
]
]

---

layout: false

class: inverse, center, middle

# Acknowledgments

Contributors to *ggstatsplot*

Other developers: [Daniel Lüdecke](https://github.com/strengejacke), [Dominique Makowski](https://github.com/DominiqueMakowski), [Mattan S. Ben-Shachar](https://github.com/mattansb), [Patrick Mair](https://psychology.fas.harvard.edu/people/patrick-mair)

Support: [Mina Cikara](http://www.intergroupneurosciencelaboratory.com/), [Fiery Cushman](http://cushmanlab.fas.harvard.edu/index.php), [Iyad Rahwan](https://rahwan.me/)

The CSS template comes from [Garrick Aden-Buie](https://github.com/gadenbuie/gentle-ggplot2).

---

layout: false

class: inverse, center, middle

# Find me at...

.font130.text-white[

[`r emo::ji("bird")` @patilindrajeets](http://twitter.com/patilindrajeets)  
[`r emo::ji("computer")` @IndrajeetPatil](http://github.com/IndrajeetPatil)  
[`r emo::ji("link")` https://sites.google.com/site/indrajeetspatilmorality/](https://sites.google.com/site/indrajeetspatilmorality/)  
[`r emo::ji("mail")` patilindrajeet.science@gmail.com](mailto:patilindrajeet.science@gmail.com)

]

---

layout: false

class: inverse, center, middle

# For more information, see

https://indrajeetpatil.github.io/ggstatsplot/
