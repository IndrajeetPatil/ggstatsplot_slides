<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>ggstatsplot: ggplot2 Based Plots with Statistical Details</title>
    <meta charset="utf-8" />
    <meta name="author" content="Indrajeet Patil (Center for Humans and Machines, Max Planck Institute, Berlin)" />
    <meta name="date" content="2021-02-16" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="ggstatsplot_presentation.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# <code>ggstatsplot</code>: <code>ggplot2</code> Based Plots with Statistical Details
## An Introductory Tutorial (Version: 0.7.0)
### Indrajeet Patil (Center for Humans and Machines, Max Planck Institute, Berlin)
### 2021-02-16 <br> <br> <br>

---


&lt;style type="text/css"&gt;
body, td {
  font-size: 16px;
}
code.r{
  font-size: 14px;
}
&lt;/style&gt;



---

layout: true

# Plan

---

- Why `ggstatsplot`?

- Primary functions

- Benefits and customizability

- Misconceptions and limitations

---

layout: false

class: inverse, center, middle

# Why *ggstatsplot*?

---

layout: true

# Raison d'être

---

--

.right-column[

.font130[
Current count of packages on the Comprehensive R Archive Network (**CRAN**)
**&lt;font color="red"&gt; &gt; 16,000&lt;/font&gt;**
]

.footnote[&lt;https://cran.r-project.org/web/packages/&gt;]

]

--

.left-column[
![](images/y_tho.jpg)
]

--

.right-column[.font130[
Short answer: `ggstatsplot` provides a collection of &lt;font color="blue"&gt;*information-rich*&lt;/font&gt; plots with &lt;font color="blue"&gt;*statistical details*&lt;/font&gt; and is suitable for scholarly publications and quick (exploratory) data analysis.
]
]

---

layout: true

# Simpler data analysis workflow

---

--

.img-center[
![](images/ds_workflow.png)
]

.footnote[[(Grolemund &amp; Wickham, *R for Data Science*, 2017)](https://r4ds.had.co.nz/)]

--

 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
In a typical *exploratory* data analysis workflow, &lt;font color="blue"&gt;data visualization&lt;/font&gt; and &lt;font color="blue"&gt;statistical modeling&lt;/font&gt; are two different phases: visualization informs modeling,
and modeling can suggest a different visualization, and so on and so forth. 

--

The central idea of **ggstatsplot** is simple: combine these two phases into one!

---

layout: true

class: center

# Information-rich graphic is worth a thousand words

---

--

.img-center[
![](images/datasaurus.gif)
]


.footnote[[(Matejka &amp; Fitzmaurice, *Autodesk Research*, 2017)](https://www.autodeskresearch.com/publications/samestats)]

 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
 &lt;br&gt;
.font120[“I plotted my data and what I found surprised me!" - BuzzFeed]

---

layout: false

# Ready-made plot = no customization

--

The **grammar of graphics** (implemented in `ggplot2`) is a powerful
framework [(Wilkinson, 2011)](https://www.google.com/books/edition/_/iI1kcgAACAAJ?hl=en&amp;sa=X&amp;ved=2ahUKEwiGl8rJ2KztAhWyElkFHa8NAvkQre8FMBR6BAgMEAc) to prepare graphics and can help you make
infinite number of graphics, each tailored for your specific data visualization
problem! But...

--

.pull-left[
![](images/power.jpg)
]

.pull-right[
![](images/cat_trademill.gif)
]

---

layout: false

# Consistent API = No cognitive fatigue

--


```r
stats::lm(formula = wt ~ mpg, data = mtcars)
```

--


```r
stats::cor(x = mtcars$wt, y = mtcars$mpg)
```

--


```r
stats::cor.test(formula = ~ wt + mpg, data = mtcars)
```

--

.img-right-small[
![](images/sideeye.gif)
]

--

 &lt;br&gt;
 &lt;br&gt;
**All** functions in `ggstatsplot`-

✅ rely on a **dataframe** (`function(data, x, ...)`) &lt;br&gt;
✅ expect **tidy** data &lt;br&gt;

---

layout: false

class: inverse, center, middle

# Get Started

---

layout: false

# Installation

--

Install the stable version (latest: `0.6.8`) of **ggstatsplot** from 
[CRAN](https://cran.r-project.org/web/packages/ggstatsplot/index.html):


```r
install.packages("ggstatsplot")
```
--

You can get the development version of the package from
[Github](https://github.com/IndrajeetPatil/ggstatsplot):


```r
remotes::install_github("IndrajeetPatil/ggstatsplot")
```

--

Load the needed packages-


```r
library(ggstatsplot)
library(ggplot2)
```

---

layout: false

class: inverse, center, middle

# Primary functions

---

layout: false

class: inverse, center, middle

# Hypothesis about group differences

🔭 *ggbetweenstats*, *ggwithinstats*: multiple groups

🔬 *gghistostats*, *ggdotplotstats*: single group

---

layout: true

# ggbetweenstats - For between group comparisons

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating
)
```

.font70[
Function internally decides tests

- *t*-test if **2** groups
- ANOVA if **&gt; 2** groups

📝 **Defaults** return &lt;br&gt;

✅ raw data + distributions &lt;br&gt;
✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ pairwise comparisons &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbetweenstats - pairwise comparisons

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* type = "np",
* pairwise.display = "ns"
)
```

.font70[
Changing the `type` of test

✅ `"p"` → **parametric** (default) &lt;br&gt;
✅ `"np"` → **non-parametric** &lt;br&gt;
✅ `"r"` → **robust**  &lt;br&gt;
✅ `"bf"` → **Bayesian**

Changing pairwise comparisons displayed

- `"ns"` → only **non-significant**
- `"s"` → only **significant**
- `"all"` → **all**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbetweenstats - outlier tagging

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
  type = "r",
  pairwise.comparisons = FALSE,
* outlier.tagging = TRUE,
* outlier.label = title
)
```

.font70[
[Tukey's fences](https://en.wikipedia.org/wiki/Outlier#Tukey's_fences) method using 
interquartile range flags outliers.

Centrality measures

✅ `"p"` → `\(\mu_{mean}\)`  &lt;br&gt;
✅ `"np"` → `\(\mu_{median}\)`  &lt;br&gt;
✅ `"r"` → `\(\mu_{trimmed}\)`  &lt;br&gt;
✅ `"bf"` → `\(\mu_{MAP}\)`
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_3-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggwithinstats - repeated measures equivalent

---

.left-code[

```r
ggwithinstats(
  data = WRS2::WineTasting,
  x = Wine,
  y = Taste
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ raw data + distributions &lt;br&gt;
✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ pairwise comparisons &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Changing the `type` of test

✅ `"p"` → **parametric** (default) &lt;br&gt;
✅ `"np"` → **non-parametric** &lt;br&gt;
✅ `"r"` → **robust**  &lt;br&gt;
✅ `"bf"` → **Bayesian**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggwithinstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# gghistostats - Distribution of a numeric variable

---

.left-code[

```r
gghistostats(
  data = movies_long,
  x = budget,
* test.value = 30
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ counts + proportion for bins &lt;br&gt;
✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Centrality measures

✅ `"p"` → `\(\mu_{mean}\)`  &lt;br&gt;
✅ `"np"` → `\(\mu_{median}\)`  &lt;br&gt;
✅ `"r"` → `\(\mu_{trimmed}\)`  &lt;br&gt;
✅ `"bf"` → `\(\mu_{MAP}\)`
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/gghistostats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggdotplotstats - Labeled numeric variable

---

.left-code[

```r
ggdotplotstats(
  data = movies_long,
  x = budget,
  y = genre,
* test.value = 30
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Centrality measures

✅ `"p"` → `\(\mu_{mean}\)`  &lt;br&gt;
✅ `"np"` → `\(\mu_{median}\)`  &lt;br&gt;
✅ `"r"` → `\(\mu_{trimmed}\)`  &lt;br&gt;
✅ `"bf"` → `\(\mu_{MAP}\)`
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggdotplotstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Hypothesis about correlation
 &lt;br&gt;
🧪 *ggscatterstats*: Two numeric variables
 &lt;br&gt;
🔭 *ggcorrmat*: Multiple numeric variables

---

layout: true

# ggscatterstats - Two numeric variables

---

.left-code[

```r
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ raw data + distributions &lt;br&gt;
✅ marginal distributions &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Changing the `type` of test

✅ `"p"` → **parametric** (default) &lt;br&gt;
✅ `"np"` → **non-parametric** &lt;br&gt;
✅ `"r"` → **robust**  &lt;br&gt;
✅ `"bf"` → **Bayesian**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggscatterstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggscatterstats - conditional point tagging

---

.left-code[

```r
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating,
  type = "r",
* label.var = title,
* label.expression = budget &gt; 150
* &amp; rating &gt; 7.5,
* marginal.type = "boxplot"
)
```

.font70[
Changing the marginal type

- **histogram**
- **boxplot**
- **density**
- **violin**
- **densigram**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggscatterstats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcorrmat - multiple numeric variables

---

.left-code[

```r
ggcorrmat(dplyr::starwars)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ effect size + significance &lt;br&gt;
✅ careful handling of `NA`s

Changing the `type` of test

✅ `"p"` → **parametric** (default) &lt;br&gt;
✅ `"np"` → **non-parametric** &lt;br&gt;
✅ `"r"` → **robust**  &lt;br&gt;
✅ `"bf"` → **Bayesian**

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggcorrmat_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcorrmat - getting a dataframe

---

In addition to `output = "plot"`, this function can also be used to get a &lt;font color="blue"&gt;dataframe&lt;/font&gt;:

.font50[

```r
library(ggplot2) # for data

ggcorrmat(
  data = dplyr::select(msleep, sleep_rem, awake, brainwt),
  type = "bayes",
* output = "dataframe"
)
```

&lt;div class="kable-table"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; parameter1 &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; parameter2 &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; estimate &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; conf.level &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; conf.low &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; conf.high &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; pd &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; rope.percentage &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; prior.distribution &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; prior.location &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; prior.scale &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; bayes.factor &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; method &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; n.obs &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; sleep_rem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; awake &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -0.7341405 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.95 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -0.8274824 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -0.6435327 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.00000 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; beta &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.005547e+09 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bayesian Pearson correlation &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 61 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; sleep_rem &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; brainwt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -0.2056326 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.95 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -0.4268012 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0041230 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9300 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.20400 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; beta &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.539296e-01 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bayesian Pearson correlation &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 48 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; awake &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; brainwt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.3458349 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.95 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1475235 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5179443 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.9975 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.03275 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; beta &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.414427 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 7.292097e+00 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; Bayesian Pearson correlation &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 56 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
]

Partial correlations are also supported! 
Just set `partial = TRUE`.

---

layout: false

class: inverse, center, middle

# Hypothesis of composition of categorical variables
 &lt;br&gt;
🔭 *ggpiestats*: If you like 🍕
 &lt;br&gt;
🔬 *ggbarstats*: Otherwise

---

layout: true

# ggpiestats - goodness-of-fit test

---

.left-code[

```r
ggpiestats(
  data = as.data.frame(Titanic),
  x = Class,
* counts = Freq,
* label = "both"
)
```

.font70[
**Note**: If the data is in *tabled* 
format, you can use the `counts` 
argument.
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggpiestats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggpiestats - association between categorical variables

---

.left-code[

```r
# let's use subset of data
ggpiestats(
  data = dplyr::filter(
    movies_long,
    genre %in% c("Drama", "Comedy")
  ),
  x = mpaa,
  y = genre
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ Goodness-of-fit tests &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Test by design

- `paired = FALSE` → Pearson's `\(\chi^2\)`
- `paired = TRUE` → McNemar's `\(\chi^2\)`

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggpiestats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbarstats - association between categorical variables

---

.left-code[

```r
ggbarstats(
  data = dplyr::filter(
    movies_long,
    genre %in% c("Drama", "Comedy")
  ),
  x = mpaa,
  y = genre
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ descriptive statistics &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ effect size + CIs &lt;br&gt;
✅ Goodness-of-fit tests &lt;br&gt;
✅ Bayesian hypothesis-testing &lt;br&gt;
✅ Bayesian estimation &lt;br&gt;

Test by design

- `paired = FALSE` → Pearson's `\(\chi^2\)`
- `paired = TRUE` → McNemar's `\(\chi^2\)`
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbarstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Hypothesis about regression coefficients

🔬 *ggcoefstats*: Any regression model object

---

layout: true

# ggcoefstats

---

.left-code[

```r
# model
mod &lt;- stats::lm(
  formula = rating ~ mpaa,
  data = movies_long
)

# plot
ggcoefstats(
  x = mod,
  title = "IMDB rating by MPAA rating"
)
```

.font70[
📝 **Defaults** return &lt;br&gt;

✅ estimate + CIs &lt;br&gt;
✅ statistic + *p*-value &lt;br&gt;
✅ model summary (AIC + BIC)
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggcoefstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcoefstats: Supported models

---

.font70[
`aareg`, `afex_aov`, `anova`, `anova.mlm`, `anova`, `aov`, `aovlist`, `Arima`,
`bam`, `bayesx`, `bayesGARCH`, `BBmm`, `BBreg`, `bcplm`, `betamfx`, `betaor`,
`BFBayesFactor`, `bglmerMod`, `bife`, `bigglm`, `biglm`, `blavaan`, `bmlm`,
`blmerMod`, `bracl`, `brglm`, `brglm2`, `brmsfit`, `brmultinom`, `btergm`,
`cch`, `censReg`, `cgam`, `cgamm`, `cglm`, `clm`, `clm2`, `clmm`, `clmm2`,
`coeftest`, `complmrob`, `confusionMatrix`, `coxme`, `coxph`, `coxph.penal`,
`cpglm`, `cpglmm`, `crch`, `crq`, `crr`, `DirichReg`, `drc`, `eglm`, `elm`,
`emmGrid`, `epi.2by2`, `ergm`, `feis`, `felm`, `fitdistr`, `fixest`,
`flexsurvreg`, `gam`, `Gam`, `gamlss`, `garch`, `geeglm`, `glmc`, `glmerMod`,
`glmmTMB`, `gls`, `glht`, `glm`, `glmm`, `glmmadmb`, `glmmPQL`, `glmRob`,
`glmrob`, `glmx`, `gmm`, `HLfit`, `hurdle`, `ivFixed`, `ivprobit`, `ivreg`,
`iv_robust`, `lavaan`, `lm`, `lm.beta`, `lmerMod`, `lmerModLmerTest`, `lmodel2`,
`lmRob`, `lmrob`, `lm_robust`, `logitmfx`, `logitor`, `logitsf`, `LORgee`,
`lqm`, `lqmm`, `lrm`, `manova`, `maov`, `margins`, `mcmc`, `mcmc.list`,
`MCMCglmm`, `mclogit`, `mice`, `mmclogit`, `mediate`, `metafor`, `merMod`,
`merModList`, `metaplus`, `mixor`, `mjoint`, `mle2`, `mlm`, `multinom`,
`negbin`, `negbinmfx`, `negbinirr`, `nlmerMod`, `nlrq`, `nlreg`, `nls`,
`orcutt`, `orm`, `plm`, `poissonmfx`, `poissonirr`, `polr`, `ridgelm`,
`riskRegression`, `rjags`, `rlm`, `rlmerMod`, `robmixglm`, `rq`, `rqs`, `rqss`,
`rrvglm`, `scam`, `semLm`, `semLme`, `slm`, `speedglm`, `speedlm`, `stanfit`,
`stanreg`, `summary.lm`, `survreg`, `svyglm`, `svyolr`, `svyglm`, `tobit`,
`truncreg`, `varest`, `vgam`, `vglm`, `wbgee`, `wblm`, `zeroinfl`, etc.
]

--

Thanks to [`easystats`](https://easystats.github.io/easystats/)!


![](images/easystats.jpg)

---

layout: false

class: inverse, center, middle

# *grouped_* variants of all functions
Running the same function for 
all levels of a single grouping variable

---

layout: true

# *grouped_* functions

---

--

.left-code[

```r
grouped_ggpiestats(
  data = mtcars,
  x = cyl,
* grouping.var = am
)
```

.font70[
Available `grouped_` variants
- `grouped_ggbetweenstats`
- `grouped_ggwithinstats`
- `grouped_gghistostats`
- `grouped_ggdotplotstats`
- `grouped_ggscatterstats`
- `grouped_ggcorrmat`
- `grouped_ggpiestats`
- `grouped_ggbarstats`
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/grouped_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Customizability of *ggstatsplot*
"What if I don't like the default plots?" 🤔

---

&lt;!-- exclude: false --&gt;

&lt;!-- layout: true --&gt;

&lt;!-- # Defaults --&gt;

&lt;!-- --- --&gt;

&lt;!-- exclude: false --&gt;

&lt;!-- .pull-left[ --&gt;
&lt;!-- .font100[ --&gt;
&lt;!-- The default plots in *&lt;font color="blue"&gt;ggstatsplot&lt;/font&gt;* are --&gt;
&lt;!-- **opinionated**, yes, but they try to follow best practices outlined in the data visualization research. --&gt;
&lt;!-- ] --&gt;
&lt;!-- ] --&gt;

&lt;!-- .pull-right[ --&gt;
&lt;!-- ![](images/books.JPG) --&gt;
&lt;!-- ] --&gt;

---

layout: true

# Changing aesthetics (themes + palettes)

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
  results.subtitle = FALSE,
* ggtheme = hrbrthemes::theme_ipsum_tw(),
* palette = "Darjeeling2",
* package = "wesanderson"
)
```

.font70[
Aesthetic preferences
are not an excuse to not
use `ggstatsplot`! 😻

The default palette 
is **colorblind-friendly**.
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_4-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# Further modification with *ggplot2*

---

.left-code[

```r
ggbetweenstats(
  data = mtcars,
  x = am,
  y = wt,
  type = "bayes"
) +
* scale_y_continuous(sec.axis = dup_axis())
```

.font70[
You can modify 
 `ggstatsplot` plots further 
using `ggplot2` functions.
Yaay! 🎉
]

.img-left-small[
![](images/happy_cat.gif)
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_5-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# Too much information 🙈

---

`ggstatsplot` can be used to get **only plots**.

--

.left-code[

```r
# using `ggstatsplot` only for plot
ggbetweenstats(
  data = iris,
  x = Species,
  y = Sepal.Length,
  # turn off centrality measure
* centrality.plotting = FALSE,
  # turn off statistical analysis
* results.subtitle = FALSE,
  # turn off Bayesian message
* bf.message = FALSE,
  # turn off pairwise comparisons
* pairwise.comparisons = FALSE
)
```
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/only_plot-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---


layout: true

# Extract expressions for custom plots

---

`ggstatsplot` can be used to get **only the expressions**.

--

.left-code[

```r
# using `ggstatsplot` for stats
results &lt;-
  ggstatsplot::ggpiestats(
    data = Titanic_full,
    x = Survived,
    y = Sex,
*   output = "subtitle"
  )

# using `ggiraphExtra` for plot
*ggiraphExtra::ggSpine(
  data = Titanic_full,
  aes(x = Sex, fill = Survived),
  addlabel = TRUE,
  interactive = FALSE
*) + labs(subtitle = results)
```
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/subtitle_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Why use *ggstatsplot*? 
Summary of benefits

---

layout: false

# Supports different statistical approaches 

 &lt;br&gt;

--

Functions | Description | Parametric | Non-parametric | Robust | Bayesian
------- | ------------------ | ---- | ----- | ----| ----- 
`ggbetweenstats` | Between group comparisons | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggwithinstats` | Within group comparisons | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`gghistostats`, `ggdotplotstats` | Distribution of a numeric variable | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggcorrmat` | Correlation matrix | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggscatterstats` | Correlation between two variables | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggpiestats`, `ggbarstats` | Association between categorical variables | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | `NA` | `NA` | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggpiestats`, `ggbarstats` | Equal proportions for categorical variable levels | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | `NA` | `NA` | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggcoefstats` | Regression model coefficients | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**
`ggcoefstats` | Random-effects meta-analysis | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | `NA` | **&lt;font color="green"&gt;Yes&lt;/font&gt;** | **&lt;font color="green"&gt;Yes&lt;/font&gt;**

---

layout: false

# Toggling between statistical approaches

--

.pull-left[
**&lt;font color="blue"&gt;Parametric&lt;font&gt;**

```r
# anova
ggbetweenstats(
  data = mtcars,
  x = cyl,
  y = wt,
* type = "p"
)

# correlation analysis
ggscatterstats(
  data = mtcars,
  x = wt,
  y = mpg,
* type = "p"
)

# t-test
gghistostats(
  data = mtcars,
  x = wt,
  test.value = 2,
* type = "p"
)
```
]

--

.pull-right[
**&lt;font color="#ff6600"&gt;Non-parametric&lt;font&gt;** 

```r
# anova
ggbetweenstats(
  data = mtcars,
  x = cyl,
  y = wt,
* type = "np"
)

# correlation analysis
ggscatterstats(
  data = mtcars,
  x = wt,
  y = mpg,
* type = "np"
)

# t-test
gghistostats(
  data = mtcars,
  x = wt,
  test.value = 2,
* type = "np"
)
```
]

---

layout: false

# Best practices in statistical reporting

--

The expression template tries to follow the APA gold standard for statistical
reporting.

For example, expression for robust *t*-test:

![](images/stats_reporting_format.jpg)


&lt;!-- --- --&gt;

&lt;!-- layout: false --&gt;

&lt;!-- # Statistically informed tests defaults --&gt;

&lt;!-- -- --&gt;

&lt;!-- The default tests follow the best practices. For example, --&gt;

&lt;!-- ✅ `ggbetweenstats` and `ggwithinstats` default to &lt;font color="blue"&gt;Welch's *t*-test&lt;/font&gt; and &lt;font --&gt;
&lt;!-- color="blue"&gt;Welch's ANOVA&lt;/font&gt; - and not Student's *t*-test and Fisher's --&gt;
&lt;!-- ANOVA - based on recent work (Delacre et al., --&gt;
&lt;!-- [2017](https://www.rips-irsp.com/article/10.5334/irsp.82/), --&gt;
&lt;!-- [2018](https://psyarxiv.com/wnezg)). --&gt;

&lt;!-- ✅ Functions default to reporting unbiased effect size measures (Lakens, [2013](https://www.frontiersin.org/articles/10.3389/fpsyg.2013.00863/full)). --&gt;

&lt;!-- ✅ Whenever multiple tests are carried out, *p*-values are adjusted for them by default. --&gt;

&lt;!-- etc. --&gt;

---

layout: false

# Avoiding reporting errors

--

&gt; "half of all published psychology papers that use NHST contained at least one
p-value that was inconsistent with its test statistic and degrees of freedom.
One in eight papers contained a grossly inconsistent p-value that may have
affected the statistical conclusion"

&gt; [(Nuijten et al., *Behavior Research Methods*, 2016)](https://link.springer.com/article/10.3758/s13428-015-0664-2)

--

Since the plot and the statistical analysis are yoked together, the chances of
making an error in reporting the results are minimized.

---

layout: false

# Making sense of null results

--

`\(p &gt; 0.05\)`: The null hypothesis (`H0`) can't be rejected

But can it be **accepted**?! NHST 🤫

--

&gt; "In 72% of cases, nonsignificant results were misinterpreted, in that the
authors inferred that the effect was absent. A Bayesian reanalysis revealed
that fewer than 5% of the nonsignificant findings provided strong evidence
(i.e., `\(BF_{01} &gt; 10\)`) in favor of the null hypothesis over the alternative
hypothesis."

&gt; [(Aczel et al., *AMPPS*, 2018)](https://journals.sagepub.com/doi/pdf/10.1177/2515245918773742)

--

Juxtaposing frequentist and Bayesian statistics for the same analysis helps to
properly interpret the null results.

---

layout: true

# Summary of benefits

---

--

- No need to use scores of packages for statistical analysis
  (e.g., one to get stats, one to get effect sizes, another to get Bayes
  Factors, and yet another to get pairwise comparisons, etc.).

--

- Minimal amount of code needed (typically only `data`, `x`,
  and `y`), which minimizes chances of error and makes for tidy scripts.
  
--

- Conveniently toggle between statistical approaches.

--

- Truly makes your figures worth a thousand words.

--

- No need to copy-paste results to the text editor (MS-Word, e.g.).

--

- Disembodied figures stand on their own and are easy to evaluate for the reader.

--

- More breathing room for theoretical discussion and other text.

--

- No need to worry about updating figures and statistical details separately.

---

layout: false

class: inverse, center, middle

# Misconceptions and limitations

---

layout: true

# Misconceptions about *ggstatsplot*

---

--

This package is... 

--

❌ an alternative to learning `ggplot2` &lt;br&gt;
--
✅ (the more you know `ggplot2`, the better you can modify the
defaults to your liking)

--

❌ meant to be used in talks/presentations &lt;br&gt;
--
✅ (default plots can be too complicated for effectively
communicating results in time-constrained presentation settings, e.g. conference
talks)

--

❌ meant for mass communication &lt;br&gt;
--
✅ LOL 😆

--

❌ the only game in town &lt;br&gt;
--
✅ (GUI software alternatives: [JASP](https://jasp-stats.org/) and [jamovi](https://www.jamovi.org/))

---

layout: true

# Limitations of *ggstatsplot*

---

--

- Limited kinds of &lt;font color="blue"&gt;plots&lt;/font&gt; available.

--

- Limited number of statistical &lt;font color="blue"&gt;tests&lt;/font&gt; available. &lt;br&gt;
  This will *always* be the case.

--

- Expects a non-trivial level of statistical proficiency (but plots without
  statistics can still be useful).

--

- &lt;font color="blue"&gt;Faceting&lt;/font&gt; not implemented.

---

layout: true

# Overcoming these limitations

---

--

.pull-left[

.font90[
Contributions (big or small) welcome!
]

![](images/needs_you.jpg)

]

--

.pull-right[
.font90[
Ways in which you can [contribute](https://github.com/IndrajeetPatil/ggstatsplot)

- Read and correct any inconsistencies in the
[documentation](https://indrajeetpatil.github.io/ggstatsplot/) 📖

- Raise issues about bugs/features 🐞

- Review code 🕵

- Add new functionality 👩‍💻

- Either mention or cite software if used in a publication 📝
]
]

---

layout: false

class: inverse, center, middle

# Acknowledgments

Other developers 🙌

[Daniel Lüdecke](https://github.com/strengejacke), [Dominique Makowski](https://github.com/DominiqueMakowski), [Mattan S. Ben-Shachar](https://github.com/mattansb)

Support 💰

[Mina Cikara](http://www.intergroupneurosciencelaboratory.com/), [Fiery Cushman](http://cushmanlab.fas.harvard.edu/index.php), [Iyad Rahwan](https://rahwan.me/)

Contributors to *ggstatsplot* 🙏

&lt;!-- The CSS template comes from [Garrick Aden-Buie](https://github.com/gadenbuie/gentle-ggplot2) --&gt;

---

layout: false

class: inverse, center, middle

# Find me at...

.font100[

[🐦 @patilindrajeets](http://twitter.com/patilindrajeets)

[💻 @IndrajeetPatil](http://github.com/IndrajeetPatil)  

[🔗 https://sites.google.com/site/indrajeetspatilmorality/](https://sites.google.com/site/indrajeetspatilmorality/)  

[📬 patilindrajeet.science@gmail.com](mailto:patilindrajeet.science@gmail.com)

]

---

layout: false

class: inverse, center, middle

# For more information, see

https://indrajeetpatil.github.io/ggstatsplot/
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "foundation",
"highlightLines": true,
"countIncrementalSlides": true,
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
