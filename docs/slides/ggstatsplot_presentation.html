<!DOCTYPE html>
<html>
  <head>
    <title>ggstatsplot: ggplot2 Based Plots with Statistical Details</title>
    <meta charset="utf-8">
    <meta name="author" content="Indrajeet Patil" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" href="ggstatsplot_presentation.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# <code>ggstatsplot</code>: <code>ggplot2</code> Based Plots with Statistical Details
## An Introductory Tutorial
### Indrajeet Patil
### 2019-02-10<br><br>Follow along: <strong><a href="https://tinyurl.com/y376yz6o" class="uri">https://tinyurl.com/y376yz6o</a></strong>

---


&lt;style type="text/css"&gt;
body, td {
  font-size: 16px;
}
code.r{
  font-size: 14px;
}
&lt;/style&gt;



---

layout: true

**Plan**

---

- Why *ggstatsplot*?

- Current functions

- Benefits and scalability

- Limitations

---

layout: false

class: inverse, center, middle

# Why *ggstatsplot*?

---

layout: true

# Raison d'√™tre

---

--

.right-column[.font150[
Current count of number of packages on the Comprehensive R Archive Network (**CRAN**)&lt;br&gt;
**&gt; 13,000**
]
.footnote[&lt;https://cran.r-project.org/web/packages/&gt;]
]

--

.left-column[
![](images/y_tho.jpg)
]

--

.right-column[.font150[
Short answer: `ggstatsplot` provides a collection of &lt;font color="blue"&gt;*information-rich*&lt;/font&gt; plots with &lt;font color="blue"&gt;*statistical details*&lt;/font&gt; and is suitable for scholarly publications and quick (exploratory) statistical analysis.
]
]

---

layout: true

# 1. Simpler data analysis workflow

---

--

.img-center[
![](images/ds_workflow.png)
]

--

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
In a typical *exploratory* data analysis workflow, &lt;font color="blue"&gt;*data visualization*&lt;/font&gt; and &lt;font color="blue"&gt;*statistical modeling*&lt;/font&gt; are two different phases: visualization informs modeling,
and modeling in its turn can suggest a different visualization method, and so
on and so forth. 

.footnote[(Grolemund &amp; Wickham, *R for Data Science*, 2017)]

--

The central idea of **ggstatsplot** is simple: combine these two phases into one
in the form of graphics with statistical details, which makes data exploration
simpler and faster.

---

layout: true

# 2. Information-rich graphic is worth a thousand words

---

--

.img-center[
![](images/datasaurus.gif)
]


.footnote[(Matejka &amp; Fitzmaurice, *Autodesk Research*, 2017)]

--

&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
.font150[‚ÄúI plotted my data and what I found will surprise me! - BuzzFeed‚Äù]

---

layout: false

# 3. Ready-made plot = no customization

--

The **grammar of graphics** (implemented in `ggplot2`) is an incredibly powerful
framework to prepare graphics and can help you make infinite number of graphics,
each tailored for your specific data visualization problem! But...

--

.pull-left[
![](images/power.jpg)
]

.pull-right[
![](images/cat_trademill.gif)
]

---

layout: false

# 4. Consistent API

--


```r
stats::lm(formula = wt ~ mpg, data = mtcars)
```

--


```r
stats::cor(x = mtcars$wt, y = mtcars$mpg)
```

--


```r
stats::cor.test(formula = ~ wt + mpg, data = mtcars)
```

--

.img-right-small[
![](images/sideeye.gif)
]

--

&lt;br&gt;
&lt;br&gt;
**All** functions in `ggstatsplot`-

1.  consistently rely on a dataframe (e.g., `data, x, y, ...`)
2.  data is always expected to be in tidy format (Wickham, [2014](https://vita.had.co.nz/papers/tidy-data.pdf))
3.  accept both `"quoted"` and `unquoted` arguments

---

layout: false

# 5. Follows best practices for statistical reporting 

--

 For all statistical tests reported in the plots, the default template abides
by the [APA](https://my.ilstu.edu/~jhkahn/apastats.html) gold standard for
statistical reporting. For example, here are results from Yuen's test for
trimmed means (robust *t*-test):

![](images/stats_reporting_format.png)

---

layout: false

class: inverse, center, middle

# Get Started

---

layout: false

# Installation

--

Install the **ggstatsplot** package from 
[CRAN](https://cran.r-project.org/web/packages/ggstatsplot/index.html):


```r
utils::install.packages("ggstatsplot")
```
--

Then you can get the development version of the package from
[Github](https://github.com/IndrajeetPatil/ggstatsplot):


```r
library(devtools)
devtools::install_github("IndrajeetPatil/ggstatsplot", dependencies = FALSE)
```

--

Load the needed packages-


```r
library(ggstatsplot)
library(ggplot2)
```

--

You are recommended to use the [RStudioIDE](https://www.rstudio.com/products/rstudio/), 
but you don't have to.

---

layout: false

class: inverse, center, middle

# ggbetweenstats
For between group/condition comparisons

---

layout: true

# ggbetweenstats - defaults

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* type = "p", # default
* bf.message = TRUE,
  messages = FALSE
)
```

.font80[
Changing the type of test

- `"p"` ‚Üí **parametric**

- `"np"` ‚Üí **non-parametric**

- `"r"` ‚Üí **robust**

- `"bf"` ‚Üí **bayes factor**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbetweenstats - little code, loads information

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* bf.message = TRUE
)
```

.font80[
Default information:

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="green"&gt;sample sizes&lt;/font&gt;

- &lt;font color="red"&gt;distribution summary&lt;/font&gt;
]
]

.right-plot[
![](images/ggbetweenstats_info.png)
]

---

layout: true

# ggbetweenstats - pairwise comparisons

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* type = "np",
* mean.ci = TRUE,
* pairwise.comparisons = TRUE,
* pairwise.display = "ns",
* p.adjust.method = "fdr",
  messages = FALSE
)
```
.font80[
Changing pairwise comparisons displayed

- `"ns"` ‚Üí only **non-significant**

- `"s"` ‚Üí only **significant**

- `"all"` ‚Üí **everything**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbetweenstats - (aesthetic) customization

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* type = "r",
* conf.level = 0.99,
  pairwise.comparisons = TRUE,
  pairwise.annotation = "p", 
* outlier.tagging = TRUE,
* outlier.label = title,
* outlier.coef = 2,
* ggtheme = hrbrthemes::theme_ipsum_tw(),
* palette = "Darjeeling2",
* package = "wesanderson",
  messages = FALSE
)
```

.font80[
Aesthetic preferences
are not an excuse to not
use `ggstatsplot` üòª
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_3-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbetweenstats - modification with *ggplot2*

---

.left-code[

```r
ggbetweenstats(
  data = movies_long,
  x = mpaa,
  y = rating,
* type = "bf",
  messages = FALSE
) + 
* scale_y_continuous(sec.axis = dup_axis())
```

.font80[
**Note**: You can modify 
all `ggstatsplot` plots further 
using `ggplot2` functions.
Yaay!
]

.img-left-small[
![](images/happy_cat.gif)
]

]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbetweenstats_4-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# ggwithinstats
For within group/condition comparisons

---

layout: true

# ggwithinstats

---

This function is still under construction. Here is a current draft.

![](images/ggwithin_draft.png)

---

layout: false

class: inverse, center, middle

# ggscatterstats
Association between two numeric variables

---

layout: true

# ggscatterstats - defaults

---

.left-code[

```r
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating,
* type = "p", # default
* bf.message = TRUE,
* conf.level = 0.99,
  messages = FALSE
)
```

.font80[
Changing the type of test

- `"p"` ‚Üí **parametric**

- `"np"` ‚Üí **non-parametric**

- `"r"` ‚Üí **robust**

- `"bf"` ‚Üí **bayes factor**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggscatterstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggscatterstats - little code, loads information

---

.left-code[

```r
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating,
  bf.message = TRUE,
  conf.level = 0.99
)
```

.font80[
Default information:

- &lt;font color="red"&gt;distribution&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;
]
]

.right-plot[
![](images/ggscatterstats_info.png)
]

---

layout: true

# ggscatterstats - changing smoothing functions

---

.left-code[

```r
ggscatterstats(
  data = movies_long,
  x = budget,
  y = rating,
* marginal = FALSE,
* method = "loess",
* results.subtitle = FALSE,
* centrality.para = "mean",
* label.var = title,
* label.expression = budget &gt; 150
*                    &amp; rating &gt; 7.5,
* ggtheme = ggthemes::theme_stata(),
  ggstatsplot.layer = FALSE,
  messages = FALSE
)
```

.font80[
Available centrality parameters

- **mean**

- **median**

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggscatterstats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# ggcorrmat
Association between multiple numeric variables

---

layout: true

# ggcorrmat - defaults

---

.left-code[

```r
ggcorrmat(dplyr::starwars)
```

.font80[
Changing the type of test

- `"p"` ‚Üí **parametric**

- `"np"` ‚Üí **non-parametric**

- `"r"` ‚Üí **robust**

- `"bf"` ‚Üí not yet implemented
&lt;br&gt;
&lt;br&gt;
**Note**: Informative label
about sample sizes in case
`NA`s are present.

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggcorrmat_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcorrmat - little code, loads information

---

.left-code[

```r
ggcorrmat(dplyr::starwars)
```

.font80[
Default information:

- &lt;font color="red"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;sample sizes&lt;/font&gt;

- &lt;font color="green"&gt;details about test&lt;/font&gt;
]
]

.right-plot[
![](images/ggcorrmat_info.png)
]

---

layout: true

# ggcorrmat - changing defaults

---

.left-code[

```r
ggcorrmat(
  data = ggplot2::msleep,
  cor.vars = sleep_cycle:bodywt,
  type = "r",
* matrix.type = "upper",
* p.adjust.method = "holm",
  colors = NULL,
* package = "yarrr",
* palette = "southpark"
)
```

.font80[
In addition to `"plot"` as `output`, 
this function can also be used to
get a &lt;font color="blue"&gt;dataframe&lt;/font&gt; of results:

- `"r"` ‚Üí **correlation**

- `"p"` ‚Üí **p-values**

- `"n"` ‚Üí **sample sizes**

- `"ci"` ‚Üí **confidence intervals**

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggcorrmat_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcorrmat - dataframe output example

---

.pull-left[
.font70[
correlation coefficients


```r
ggcorrmat(
  data = ggplot2::msleep,
  cor.vars = sleep_cycle:bodywt,
* type = "np",
* output = "r",
  p.adjust.method = "fdr",
  messages = FALSE
)
```

&lt;div class="kable-table"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; variable &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; sleep_cycle &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; awake &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; brainwt &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; bodywt &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; sleep_cycle &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.87 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.85 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; awake &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.49 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.53 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; brainwt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.87 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.59 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.96 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; bodywt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.85 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.53 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.96 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.00 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
]
]

.pull-right[
.font70[
*p*-values


```r
ggcorrmat(
  data = ggplot2::msleep,
  cor.vars = sleep_cycle:bodywt,
* type = "np",
* output = "p",
  p.adjust.method = "none",
  messages = FALSE
)
```

&lt;div class="kable-table"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; variable &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; sleep_cycle &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; awake &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; brainwt &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; bodywt &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; sleep_cycle &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0045296 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0e+00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0e+00 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; awake &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0045296 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.4e-06 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2e-07 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; brainwt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000014 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0e+00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0e+00 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; bodywt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000000 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0000002 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0e+00 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0e+00 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
]
]

---

layout: false

class: inverse, center, middle

# gghistostats
Distribution of a numeric variable

---

layout: true

# gghistostats

---

.left-code[

```r
gghistostats(
  data = movies_long,    
  x = budget,
* type = "r",
* test.value = 50,
* bar.measure = "count", # default
* binwidth = 10,
  messages = FALSE
) 
```

.font80[
Changing the type of test

- `"p"` ‚Üí **parametric**

- `"np"` ‚Üí **non-parametric**

- `"r"` ‚Üí **robust**

- `"bf"` ‚Üí **bayes factor**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/gghistostats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# gghistostats - further customization

---

.left-code[

```r
gghistostats(
  data = movies_long,    
  x = budget,
  test.value = 50,
* test.value.size = TRUE,
* bar.measure = "mix",
  centrality.para = "median", 
* test.value.line = TRUE,
* normal.curve = TRUE,
  bf.message = TRUE,
* ggtheme = hrbrthemes::theme_ipsum_tw(),
* ggstatsplot.layer = FALSE,
  messages = FALSE
) 
```

.font80[
Available bar measures 

- **count**
- **proportion**
- **both** (of the above)
- **density**

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/gghistostats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# gghistostats - little code, loads information

---

.left-code[

```r
gghistostats(
  data = movies_long,    
  x = budget,
  test.value = 50,
  test.value.size = TRUE, 
  bar.measure = "mix", 
  centrality.para = "median", 
  test.value.line = TRUE,
  normal.curve = TRUE,
  bf.message = TRUE
)
```

.font80[
Default information:

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="green"&gt;frequency&lt;/font&gt;

- &lt;font color="black"&gt;distribution summary&lt;/font&gt;
]
]

.right-plot[
![](images/gghistostats_info.png)
]

---

layout: false

class: inverse, center, middle

# ggdotplotstats
Distribution of a numeric variable with labels

---

layout: true

# ggdotplotstats

---

.left-code[

```r
ggdotplotstats(
  data = movies_long,
  x = budget,
  y = genre,
* test.value = 52,
  centrality.para = "median", 
* test.value.line = TRUE,
* test.value.color = "red",
* bf.message = TRUE,
  ggtheme = ggthemes::theme_par(),
  messages = FALSE
) 
```

.font80[
Changing the type of test

- `"p"` ‚Üí **parametric**

- `"np"` ‚Üí **non-parametric**

- `"r"` ‚Üí **robust**

- `"bf"` ‚Üí **bayes factor**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggdotplotstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

.left-code[

```r
ggdotplotstats(
  data = movies_long,
  x = budget,
  y = genre,
  test.value = 52,     
  centrality.para = "median", 
  test.value.line = TRUE, 
  test.value.color = "red",
  bf.message = TRUE
) 
```

.font80[
Default information:

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="green"&gt;distribution summary&lt;/font&gt;
]
]

.right-plot[
![](images/ggdotplotstats_info.png)
]

---

layout: false

class: inverse, center, middle

# ggpiestats
For composition of categorical variables

---

layout: true

# ggpiestats

---

.left-code[

```r
# let's use subset of data
ggpiestats(
  data = dplyr::filter(movies_long, 
  genre %in% c("Drama", "Comedy", "Animated")), 
  main = genre,
  condition = mpaa,
* paired = FALSE, # default
* conf.level = 0.99,
* bf.message = TRUE,
  package = "ggsci",
  palette = "default_ucscgb",
  messages = FALSE
)
```

.font80[

Test by design

- `paired = FALSE` ‚Üí Pearson's `\(\chi^2\)`

- `paired = TRUE` ‚Üí McNemar

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggpiestats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggpiestats - little code, loads information

---

.left-code[

```r
# let's use subset of data
ggpiestats(
  data = dplyr::filter(movies_long, 
  genre %in% c("Drama", "Comedy", "Animated")), 
  main = genre,
  condition = mpaa,
* conf.level = 0.99,
* bf.message = TRUE
)
```

.font80[
Default information:

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="green"&gt;sample sizes&lt;/font&gt;

- &lt;font color="red"&gt;proportion test results&lt;/font&gt;
]
]

.right-plot[
![](images/ggpiestats_info.png)
]

---

layout: true

# ggpiestats - proportion test

---

.left-code[

```r
ggpiestats(
  data = as.data.frame(Titanic), 
* main = Survived,
* counts = Freq,
* slice.label = "both",
  messages = FALSE
)
```

.font70[
**Note** If the data is in *tabled* 
format, you can use the `counts` 
argument.

Test by analysis

- `condition != NULL` ‚Üí contingency table

- `condition == NULL` ‚Üí goodness of fit

]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggpiestats_2-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# ggbarstats
For composition of categorical variables

---

layout: true

# ggbarstats - defaults

---

.left-code[

```r
ggbarstats(
  data = movies_long, 
  main = genre,
  condition = mpaa,
* paired = FALSE, # default
* bf.message = TRUE,
  package = "ggsci",
  palette = "default_igv",
* caption = substitute(
*   paste(italic("Source"), ": www.imdb.com")
* ),
  messages = FALSE
)
```

.font80[
&lt;br&gt;
**Note**: Even if you display 
Bayes Factor message in a caption, 
you can still use the `caption`
argument in all plotting functions.
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggbarstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggbarstats - little code, loads information

---

.left-code[

```r
ggbarstats(
  data = movies_long, 
  main = genre,
  condition = mpaa,
  bf.message = TRUE
)
```

.font80[
Default information:

- &lt;font color="orange"&gt;statistical details&lt;/font&gt;

- &lt;font color="blue"&gt;Bayes Factor&lt;/font&gt;

- &lt;font color="green"&gt;sample sizes&lt;/font&gt;

- &lt;font color="red"&gt;proportion test results&lt;/font&gt;
]
]

.right-plot[
![](images/ggbarstats_info.png)
]

---

layout: false

class: inverse, center, middle

# ggcoefstats
Displaying results from regression analyses

---

layout: true

# ggcoefstats - defaults

---

.left-code[

```r
# model
mod &lt;- stats::aov(
  formula = rating ~ mpaa * genre,
  data = movies_long
)

# plot
ggcoefstats(x = mod)
```

.font80[
In addition to `"plot"` as `output`, 
this function can also be used to
get a &lt;font color="blue"&gt;dataframe&lt;/font&gt; of results:

- `"tidy"` ‚Üí **estimates**

- `"glance"` ‚Üí **model summary**

- `"augment"` ‚Üí **predictions**
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/ggcoefstats_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: true

# ggcoefstats - little code, loads information

---

.left-code[

```r
# model
mod &lt;- stats::aov(
  formula = rating ~ mpaa * genre,
  data = movies_long
)

# plot
ggcoefstats(x = mod)
```

.font80[
Default information:

- &lt;font color="red"&gt;estimate + 95% CI&lt;/font&gt;

- &lt;font color="blue"&gt;model summary&lt;/font&gt;

- &lt;font color="green"&gt;statistical details&lt;/font&gt;
]
]

.right-plot[
![](images/ggcoefstats_info.png)
]

---

layout: true

# ggcoefstats - other outputs than plot

---

.pull-left[
.font70[
model summary


```r
library(lme4)

# model
mod1 &lt;- lme4::lmer(
  formula = Reaction ~ Days + (Days | Subject), 
  sleepstudy)

# dataframe
ggcoefstats(x = mod1, output = "glance")
```

&lt;div class="kable-table"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; sigma &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; logLik &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; AIC &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; BIC &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; REMLcrit &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; df.residual &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 25.59181 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -871.8141 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1755.628 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1774.786 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1743.628 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 174 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
]
]

.pull-right[
.font70[
augmented dataframe

```r
library(ordinal)

# model
mod2 &lt;- clm(formula = rating ~ temp * contact, 
            data = wine)

# dataframe
ggcoefstats(x = mod2, output = "augment") %&gt;%
  head(5)
```

&lt;div class="kable-table"&gt;

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; rating &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; temp &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; contact &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; .fitted &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; .se.fit &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cold &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; no &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5622964 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0884961 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cold &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; no &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.2086491 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0788338 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cold &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4346731 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0837035 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; cold &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; yes &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0893885 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0436085 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; warm &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; no &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1902823 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0711286 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;/div&gt;
]
]

---

layout: true

# *ggcoefstats*: Supported models

---

.pull-left[
.pull-left[
- `aareg`
- `anova`
- `aov`
- `aovlist`
- `Arima` 
- `biglm`
- `brmsfit`
- `btergm`
- `cch`
- `clm`
- `clmm`
- `confusionMatrix`
- `coxph`
- `ergm`
]
.pull-right[
- `felm`
- `fitdistr`
- `glmerMod`
- `glmmTMB`
- `gls`
- `gam`
- `Gam`
- `gamlss`
- `garch`
- `glm` 
- `glmmadmb` 
- `glmmTMB`
- `glmrob`
- `gmm`
]
]

.pull-right[
.pull-left[
- `ivreg`
- `lm`
- `lm.beta`
- `lmerMod`
- `lmodel2`
- `lmrob`
- `mcmc`
- `MCMCglmm`
- `mediate` 
- `mjoint`
- `mle2`
- `multinom`
- `nlmerMod`
- `nlrq`
]
.pull-right[
- `nls`
- `orcutt`
- `plm`
- `polr`
- `ridgelm`
- `rlm`
- `rlmerMod`
- `rq`
- `speedlm`
- `stanreg`
- `survreg`
- `svyglm`
- `svyolr`
- `svyglm`
]
]

---

layout: true

# *ggcoefstats*: If not implemented, use a dataframe

---

.left-code[

```r
# dataframe with results
df &lt;- tibble::tribble(
  ~term, ~estimate, ~std.error, ~statistic, ~p.value,
  "(Intercept)", 3.77, 0.165, 22.9, 1.49e-20,
  "x", -1.36, 0.258, -5.26, 1.13e-5
)

# plot
ggcoefstats(
  x = df,
  statistic = "z",
  exclude.intercept = FALSE
)
```

.font70[
Supported statistic (for &lt;font color="blue"&gt;dataframe&lt;/font&gt; objects):
- *t*
- *z*
- *F*

At the minimum, two
columns needed - &lt;br&gt;&lt;font color="blue"&gt;term&lt;/font&gt; and &lt;font color="blue"&gt;estimate&lt;/font&gt;.
]

]

.right-plot[
![](ggstatsplot_presentation_files/figure-html/ggcoefstats_2-1.png)
]

---

layout: true

# *ggcoefstats*: You can also do meta-analysis!

---

.left-code[

```r
# made up data
meta_df &lt;- tibble::tribble(
  ~term, ~estimate, ~std.error,
  "study_1", 0.111, 0.065,
  "study_2", -0.003, 0.258,
  "study_3", 0.001, 0.120,
  "study_4", 0.032, 0.022,
  "study_5", -0.765, 0.650,
  "study_6", -0.032, 0.058
)

# plot
ggcoefstats(
  x = meta_df,
* meta.analytic.effect = TRUE,
  xlab = "estimate"
)
```

.font100[
‚ö†Ô∏è Work in progrss ‚ö†Ô∏è
]
]

.right-plot[
![](ggstatsplot_presentation_files/figure-html/ggcoefstats_3-1.png)
]

---

layout: false

class: inverse, center, middle

# *grouped_* variants of all functions
Running the same function for 
all levels of a single grouping variable

---

layout: true

# grouped_ functions

You can repeat the same analysis for all levels of a single grouping variable.
---

.left-code[

```r
# only one additional argument
grouped_ggpiestats(
  data = mtcars, 
  main = cyl,
* grouping.var = am,
  messages = FALSE
)
```

.font70[
Available `grouped_` variants

- `grouped_ggdotplotstats`
- `grouped_ggbarstats`    
- `grouped_ggscatterstats`
- `grouped_gghistostats`  
- `grouped_ggpiestats`    
- `grouped_ggbetweenstats`
- `grouped_ggcorrmat`  
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/grouped_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Utility beyond *ggstatsplot*
What if I don't like the default plots 
but still want to display statistical results?

---

layout: true

# Using subtitle helper functions

---

`ggstatsplot` can also be used just to get the statistical details.

--

.left-code[

```r
# using `ggstatsplot` for stats
results &lt;- subtitle_contingency_tab(
  data = Titanic_full,
  main = Survived,
  condition = Sex,
  messages = FALSE
)

# using `ggiraphExtra` for plot
ggiraphExtra::ggSpine(
  data = Titanic_full,
  aes(x = Sex, fill = Survived),
  addlabel = TRUE,
  interactive = FALSE
) + labs(subtitle = results) # &lt;&lt;
```

.font80[
&lt;br&gt;
**All** included analyses have their
corresponding [helper functions](https://indrajeetpatil.github.io/ggstatsplot/reference/index.html#section-helper-functions-for-preparing-statistics-subtitles) for preparing 
subtitles with statistical details.
]
]

.right-plot[
&lt;img src="ggstatsplot_presentation_files/figure-html/subtitle_1-1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

layout: false

class: inverse, center, middle

# Glossary
Statistical analyses in *ggstatsplot*

---

layout: false

# Best practices in reporting statistical details

--

- As discussed before, the details included in statistical analyses follow the
APA gold standard.

- The default tests follow the best practices. For example, `ggbetweenstats`
function by default runs &lt;font color="blue"&gt;Welch's *t*-test&lt;/font&gt; and &lt;font
color="blue"&gt;Welch's ANOVA&lt;/font&gt; - and not Student's *t*-test and Fisher's
ANOVA - based on recent work (Delacre et al.,
[2017](https://www.rips-irsp.com/article/10.5334/irsp.82/),
[2018](https://psyarxiv.com/wnezg)).

- No *p*-value error &lt;br&gt;
(Lilienfeld et al.,
[2015](https://www.frontiersin.org/articles/10.3389/fpsyg.2015.01100/full))

.img-center-small[
![](images/p_error.png)
]

---

layout: false

# Avoiding errors

--

Since the plot and the statistical analysis are yoked together, the chances of
making an error in reporting the results are minimized. You never have to write
the results manually or copy-paste them from someplace else.

![](images\statcheck.png)

.footnote[(Nuijten et al., *Behavior Research Methods*, 2016)]

---

layout: false

# Making sense of null results

--

Combination of frequentist and Bayesian statistics for each analysis to properly
interpret the null results.

![](images/null_results.png)

.footnote[(Aczel et al., *AMPPS*, 2018)]

---

layout: false

class: inverse, center, middle

# Glossary
Summary of statistical tests included
(as of 0.0.9)

---

layout: false

# Types of statistical analyses supported

&lt;br&gt;

--

Functions | Description | Parametric | Non-parametric | Robust | Bayes Factor
------- | ------------------ | ---- | ----- | ----| ----- 
`ggbetweenstats` | Between group/condition comparisons | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt;
`gghistostats`, `ggdotplotstats` | Distribution of a numeric variable | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt;
`ggcorrmat` | Correlation matrix | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
`ggscatterstats` | Correlation between two variables | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt;
`ggpiestats`, `ggbarstats` | Association between categorical variables | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt;
`ggcoefstats` | Regression model coefficients | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;| &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;

---

layout: false

# Effect sizes + CI available?

&lt;br&gt;

--

Test | Parametric | Non-parametric | Robust | Bayes
---------------------------- | ------ | ------ | ------ | ------
one-sample *t*-test | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
two-sample *t*-test (between) | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
two-sample *t*-test (within) | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
One-way ANOVA (between) | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
One-way ANOVA (within) | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
correlations | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
contingency table | &lt;font color="green"&gt;Yes&lt;/font&gt; | `NA` | `NA` | &lt;font color="red"&gt;No&lt;/font&gt;
goodness of fit | &lt;font color="green"&gt;Yes&lt;/font&gt; | `NA` | `NA` | &lt;font color="red"&gt;No&lt;/font&gt;
regression | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="green"&gt;Yes&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;

---

layout: false

# Pairwise comparison tests in *ggbetweenstats*

&lt;br&gt;

--

Type | Design | Equal variance? |  Test | *p*-value adjustment? 
----------- | --------- | --- | ------------------------- | --
Parametric | between | No | Games-Howell test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Parametric | between | Yes | Student's *t*-test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Parametric | within | `NA` | Student's *t*-test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Non-parametric | between | No | Dwass-Steel-Crichtlow-Fligner test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Non-parametric | within | No | Durbin-Conover test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Robust | between | No | Yuen's trimmed means test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Robust | within |`NA` | Yuen's trimmed means test | &lt;font color="green"&gt;Yes&lt;/font&gt;  
Bayes Factor | between | No | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
Bayes Factor | between | Yes | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;
Bayes Factor | within | `NA` | &lt;font color="red"&gt;No&lt;/font&gt; | &lt;font color="red"&gt;No&lt;/font&gt;

---

layout: false

class: inverse, center, middle

# Why use *ggstatsplot*? 
Summary of benefits

---

layout: true

# Benefits of using *ggstatsplot*

---

--

- Truly makes your figures worth a thousand words. 

--

- No need to copy-paste results to the text editor (MS-Word, e.g.).

--

- Disembodied figures stand on their own and are easy to evaluate for the reader.

--

- More breathing room for theoretical discussion and other text.

--

- No need to worry about updating figures and statistical details separately
  if something about the data changes.

--

- Minimal amount of code needed (minimizes chances of error).

---

layout: true

# Example

---

.pull-left[

**Without &lt;font color="blue"&gt;ggstatsplot&lt;/font&gt;**

![](images/before_ggstats.PNG)
]

.pull-right[

**With &lt;font color="blue"&gt;ggstatsplot&lt;/font&gt;**

![](images/after_ggstats.PNG)
]

---

layout: true

# Quality assurance

---

--

`ggstatsplot` includes over &lt;font color="blue"&gt;**1200**&lt;/font&gt; tests to make
sure that all the functions are working properly. 

If you use `ggstatsplot` to report results in your publication and find an error
that traces back to code in this package, I will personally write an apology
letter to you and to the editor of the journal in question.

![](images/codecov.png)

.footnote[*Reference*: &lt;https://codecov.io/gh/IndrajeetPatil/ggstatsplot&gt;]

---

layout: false

class: inverse, center, middle

# Limitations

---

layout: true

# Limitations

---

--

- Limited kinds of &lt;font color="blue"&gt;plots&lt;/font&gt; available.

--

- Limited number of statistical &lt;font color="blue"&gt;tests&lt;/font&gt; (and effect
sizes) available.

--

- &lt;font color="blue"&gt;Faceting&lt;/font&gt; (or small multiples) not implemented.

--

- Default plots can be too complicated for effectively communicating results in
time-constrained presentation settings (e.g., conference talks). 

--

- Bulky API (in terms of number of function arguments to keep in mind).

---

layout: true

# Overcoming these limitations

---

--

.pull-left[

.font80[
Contributions (big or small) welcome!
]

![](images/needs_you.jpg)

]

--

.pull-right[
.font80[
Ways in which you can contribute

- Read and correct any inconsistencies in the
[documentation](https://indrajeetpatil.github.io/ggstatsplot/)

- Raise issues about bugs or wanted features

- Review code

- Add new functionality (in the form of new plotting functions or helpers for
preparing subtitles)
]
]

---
layout: false

class: inverse, center, middle

# Not the only game in town
other options that pack informative graphics with statistical details

---

layout: true

# GUI softwares

---

--

.pull-left[

**jamovi**

![](images/jamovi.PNG)
]

.pull-right[

**JASP**

![](images/jasp.PNG)
]

---


layout: false

class: center, middle

# Thanks!

**Acknowledgments**

Contributor to *ggstatsplot*: [Chuck Powell](https://github.com/ibecav)

Advisors: [Mina Cikara](http://www.intergroupneurosciencelaboratory.com/) and [Fiery Cushman](http://cushmanlab.fas.harvard.edu/index.php)

Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).

The CSS template comes from [Garrick Aden-Buie](https://github.com/gadenbuie/gentle-ggplot2).

---

layout: false

class: inverse, center, middle

# Thanks!

.font150.text-white[
[@patilindrajeets](https://twitter.com/patilindrajeets) &lt;br&gt;
[github.com/IndrajeetPatil](https://github.com/IndrajeetPatil) &lt;br&gt;
patilindrajeet.science@gmail.com
]
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"ratio": "16:9",
"highlightStyle": "foundation",
"highlightLines": true,
"countIncrementalSlides": true,
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
